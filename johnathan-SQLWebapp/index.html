<!DOCTYPE html>
<html lang="en">	
	<head>
		<title>SQL Snippets</title>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="styles/bootstrap.min.css" />
		<link rel="stylesheet" href="styles/fa/css/font-awesome.min.css" />
		<link rel="stylesheet" href="styles/codemirror.css" />
		<link rel="stylesheet" href="styles/base16-light.css" />
		<link rel="stylesheet" href="styles/custom.css" />
		<script src="scripts/jquery.min.js"></script>
		<script src="scripts/knockout-3.4.2.js"></script>
		<script src="scripts/codemirror.js"></script>
		<script src="scripts/ko.codemirror.js"></script>
		<script src="scripts/modes/sql.js"></script>
		<script src="scripts/modes/clike.js"></script>
		<script src="scripts/modes/htmlmixed.js"></script>
		<script src="scripts/modes/vb.js"></script>
		<script src="scripts/modes/xml.js"></script>
		<script src="scripts/modes/javascript.js"></script>
		<script src="scripts/script.js"></script>
		<script src="scripts/mustache.js"></script>
		<script src="scripts/FileSaver.js"></script>
		<script src="scripts/main.js"></script>
		<script type="text/javascript">
        $(
			function () 
			{
				ko.applyBindings(new MainViewModel());
			}
		);
    </script>
	</head>
    <body data-spy="scroll" data-target=".sidebar" data-offset="10">
				<!-- Navbar -->
				<nav class="navbar navbar-inverse navbar-fixed-top">
						<div class="navbar-header">
							<a class="navbar-brand" href="#">Snippet Tool</a>
						</div>
					</nav>
					<div id="wrapper">
					<div class="col-xs-3 col-sm-3 col-md-3 col-lg-2 sidebar">
							<h1>Snippets</h1>
					</div>
					<div class="col-xs-3 col-sm-9 col-md-9 col-lg-10 content">
							<div class='row'>
									<div class='col-md-2'>
										<button id="add-snippet" class='btn btn-default btn-circle' type="button" data-bind="click: addSnippet">
											<i class='glyphicon glyphicon-plus'></i>
										</button>
									</div>
									<div class='col-md-10'></div>
								</div>
								
								<div class='row'>
									<form>
										<div id="snippets-container" class='container-fluid form-group row' data-bind="foreach: {data:snippets}">
											<div data-bind="attr: {'id': id}" class="snippet container-fluid form-group row align-items-center" >
												<!--NEW SNIPPET FORM-->
												<div class='form-group row align-items-center'>
													<label class='col-form-label col-md-2'>Title</label>
													<div class='col-md-6'>
														<input class='form-control' data-bind="textInput: title" />
													</div>
													<div class='form-control-plaintext col-md-4'>
														<button id="add-snippet" class='btn btn-default btn-circle mt-0' type="button" data-bind="click: function(){$root.removeSnippet($data);}">
															<i class='glyphicon glyphicon-remove'></i>
														</button>
													</div>
												</div>
												
												<div class='form-group row align-items-center'>
													<label class='col-form-label col-md-2'>Description</label>
													<div class='col-md-6'>
														<input class='form-control' data-bind="textInput: description" />
													</div>
												</div>
												
												<div class='form-group row'>
													<label class='col-form-label col-md-2'>Types</label>
													<div class='col-md-3'>
														<select class='form-control' data-bind="options: $root.snippetTypes, optionsText: 'name', selectedOptions: snippetTypes" multiple></select>
													</div>
												</div>
	
												<div class='form-group row'>
													<label class='col-form-label col-md-2'>Snippet Language</label>
													<div class='col-md-3'>
														<select class='form-control' data-bind="options: $root.languages, optionsText: 'text', value: language, event: { 'click': onChange($data), 'keypress': onChange($data), 'keyup': onChange($data) }" > </select>
													</div>
												</div>
												
												<div class='form-group row'>
													<label class='col-form-label col-md-2'>Snippet Text</label>
													<div class='col-md-10'>
														<div class="codeeditor" data-bind="codemirror: { binding: snippetCode, codeMirrorOptions: { mode: 'text/x-mssql', theme: 'base16-light', smartIndent: true, tabSize: 4, language: 'sql', lineNumbers: true }}" ></div>
														<!--<div class="codeeditor" data-bind="codemirror: { testProperty: 1, testPropert2: 2}" ></div>-->
													</div>
												</div>
												
											</div>
										</div>
									</form>
								</div>
					</div>
		</div>
		<footer class="footer">
			<div class="container-fluid">
				
			</div>
		</footer>
		<script src="scripts/bootstrap.min.js"></script>

		<pre id="outputTemplate" style="display:none">
<?xml version="1.0" encoding="utf-8" ?>
<CodeSnippets  xmlns="http://schemas.microsoft.com/VisualStudio/2005/CodeSnippet">
    {{#snippets}}
	<CodeSnippet Format="1.0.0">
		<Header>
			<Title>{{title}}</Title>
			<Shortcut></Shortcut>
			<Description>{{description}}</Description>
			<Author></Author>
			<SnippetTypes>
                {{#snippetTypes}}
                <SnippetType>{{value}}</SnippetType>
                {{/snippetTypes}}
			</SnippetTypes>
		</Header>
		<Snippet>
			<Declarations></Declarations>
			<Code Language="{{language.attributeValue}}"><![CDATA[{{snippetCode}}]]>
			</Code>
		</Snippet>
	</CodeSnippet>
    {{/snippets}}
</CodeSnippets>
		</pre>
    </body>
</html>